<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" />
    <style>
        #map {
            height: calc(100vw/2);
            width: 100%;
        }
    </style>
</head>

<body>
    <h3>Golden For Congress</h3>
    <div id="map"></div>
    <script>
        function initMap() {
            var drawing = false;
            var snapToRoads = false;

            var directionsService = new google.maps.DirectionsService();
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 9,
                center: { "lat": 42.6, "lng": -78.1 }
            });

            var line1 = new google.maps.Polyline({
                map: map,
                strokeColor: '#900',
                path: [{ "lat": 42.86660399746957, "lng": -76.981201171875 }, { "lat": 42.87490738811161, "lng": -76.9375991821289 }, { "lat": 42.88949851914703, "lng": -76.8490219116211 }, { "lat": 42.911127292533685, "lng": -76.78276062011719 }]
            });

            var line2 = new google.maps.Polyline({
                map: map,
                strokeColor: '#090',
                path: [{ "lat": 42.907757732213575, "lng": -76.7724609375 }, { "lat": 42.83327856178973, "lng": -76.7669677734375 }, { "lat": 42.75467620757104, "lng": -76.7999267578125 }, { "lat": 42.67395471446548, "lng": -76.7724609375 }]
            });

            var line3 = new google.maps.Polyline({
                map: map,
                strokeColor: '#009',
                path: [{ "lat": 42.67193533194252, "lng": -76.7724609375 }, { "lat": 42.60525890146804, "lng": -76.7449951171875 }, { "lat": 42.50409788848807, "lng": -76.63787841796875 }, { "lat": 42.44737610290024, "lng": -76.51153564453125 }]
            });

            if (drawing) {
                var drawingManager = new google.maps.drawing.DrawingManager({
                    map: map,
                    drawingMode: google.maps.drawing.OverlayType.POLYLINE,
                    drawingControl: false
                });
                google.maps.event.addListener(drawingManager, 'polylinecomplete', function (line) {
                    if (snapToRoads) {
                        var path = [];
                        var waypoints = [];
                        var linePath = line.getPath();
                        for (n = 1; n < linePath.getLength() - 1; n++) {
                            waypoints.push({ "location": linePath.getAt(n) });
                        }
                        directionsService.route({
                            origin: linePath.getAt(0),
                            destination: linePath.getAt(n),
                            waypoints: waypoints,
                            travelMode: google.maps.DirectionsTravelMode.WALKING
                        }, function (result, status) {
                            if (status == google.maps.DirectionsStatus.OK) {
                                for (var i = 0, len = result.routes[0].overview_path.length; i < len; i++) {
                                    path.push(result.routes[0].overview_path[i]);
                                }
                            }
                            console.log(JSON.stringify(path));
                            line.setPath(path);
                        });
                    } else {
                        console.log(JSON.stringify(line.getPath().getArray()));
                    }
                });
            }
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5BLzWoz9YN6LB5I0JfQzGZL4jXmqB8y4&libraries=drawing&callback=initMap">

    </script>
</body>

</html>